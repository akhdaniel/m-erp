import{_ as h}from"./AppLayout.vue_vue_type_script_setup_true_lang-DU1WgjSg.js";import{c as m,i as a,a as s,d as v,u as _,r as y,o as w,l as p,m as n,n as b,t as c,f as e,g as o,b as k}from"./index-Cr4MYUY-.js";import{u as C}from"./companies-Bc3UktZV.js";import{u as A}from"./users-DZcvAz3Q.js";import{r as S}from"./BuildingOfficeIcon-53JOep3g.js";import{r as M}from"./UsersIcon-DKS4hlDt.js";import{r as B}from"./PlusIcon-DmciI6NM.js";function Z(d,r){return a(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"})])}function $(d,r){return a(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}function H(d,r){return a(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const U={class:"space-y-6"},P={class:"mt-2 text-sm text-gray-700"},V={class:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"},j={class:"card"},D={class:"card-body"},N={class:"flex items-center"},R={class:"flex-shrink-0"},z={class:"ml-5 w-0 flex-1"},E={class:"text-lg font-medium text-gray-900"},F={class:"card"},Q={class:"card-body"},T={class:"flex items-center"},W={class:"flex-shrink-0"},q={class:"ml-5 w-0 flex-1"},G={class:"text-lg font-medium text-gray-900"},I={class:"card"},J={class:"card-body"},K={class:"flex items-center"},L={class:"flex-shrink-0"},O={class:"card"},X={class:"card-body"},Y={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},ss={class:"flex-shrink-0"},ts={class:"flex-shrink-0"},es={class:"flex-shrink-0"},cs=v({__name:"DashboardView",setup(d){const r=_(),u=C(),x=A(),i=y({companies:0,users:0});return w(async()=>{try{await Promise.all([u.fetchCompanies({size:1}),r.isAdmin?x.fetchUsers({size:1}):Promise.resolve()]),i.value.companies=u.pagination.total,i.value.users=x.pagination.total}catch(g){console.error("Failed to load dashboard stats:",g)}}),(g,t)=>{const l=b("router-link");return a(),p(h,null,{default:n(()=>{var f;return[s("div",U,[s("div",null,[t[0]||(t[0]=s("h1",{class:"text-2xl font-bold text-gray-900"},"Dashboard",-1)),s("p",P," Welcome back, "+c((f=e(r).user)==null?void 0:f.first_name)+"! Here's an overview of your M-ERP system. ",1)]),s("div",V,[s("div",j,[s("div",D,[s("div",N,[s("div",R,[o(e(S),{class:"h-8 w-8 text-primary-600"})]),s("div",z,[s("dl",null,[t[1]||(t[1]=s("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Total Companies ",-1)),s("dd",E,c(i.value.companies),1)])])])])]),s("div",F,[s("div",Q,[s("div",T,[s("div",W,[o(e(M),{class:"h-8 w-8 text-green-600"})]),s("div",q,[s("dl",null,[t[2]||(t[2]=s("dt",{class:"text-sm font-medium text-gray-500 truncate"}," Active Users ",-1)),s("dd",G,c(i.value.users),1)])])])])]),s("div",I,[s("div",J,[s("div",K,[s("div",L,[o(e(Z),{class:"h-8 w-8 text-blue-600"})]),t[3]||(t[3]=s("div",{class:"ml-5 w-0 flex-1"},[s("dl",null,[s("dt",{class:"text-sm font-medium text-gray-500 truncate"}," System Status "),s("dd",{class:"text-lg font-medium text-gray-900"},[s("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Healthy ")])])],-1))])])])]),s("div",O,[t[7]||(t[7]=s("div",{class:"card-header"},[s("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Quick Actions "),s("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Common tasks to get you started. ")],-1)),s("div",X,[s("div",Y,[o(l,{to:"/companies/create",class:"relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:n(()=>[s("div",ss,[o(e(B),{class:"h-6 w-6 text-gray-400"})]),t[4]||(t[4]=s("div",{class:"flex-1 min-w-0"},[s("span",{class:"absolute inset-0","aria-hidden":"true"}),s("p",{class:"text-sm font-medium text-gray-900"}," Create Company "),s("p",{class:"text-sm text-gray-500 truncate"}," Add a new company to the system ")],-1))]),_:1,__:[4]}),e(r).isAdmin?(a(),p(l,{key:0,to:"/users/create",class:"relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:n(()=>[s("div",ts,[o(e($),{class:"h-6 w-6 text-gray-400"})]),t[5]||(t[5]=s("div",{class:"flex-1 min-w-0"},[s("span",{class:"absolute inset-0","aria-hidden":"true"}),s("p",{class:"text-sm font-medium text-gray-900"}," Create User "),s("p",{class:"text-sm text-gray-500 truncate"}," Add a new user account ")],-1))]),_:1,__:[5]})):k("",!0),o(l,{to:"/profile",class:"relative rounded-lg border border-gray-300 bg-white px-6 py-5 shadow-sm flex items-center space-x-3 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},{default:n(()=>[s("div",es,[o(e(H),{class:"h-6 w-6 text-gray-400"})]),t[6]||(t[6]=s("div",{class:"flex-1 min-w-0"},[s("span",{class:"absolute inset-0","aria-hidden":"true"}),s("p",{class:"text-sm font-medium text-gray-900"}," My Profile "),s("p",{class:"text-sm text-gray-500 truncate"}," Update your account settings ")],-1))]),_:1,__:[6]})])])]),t[8]||(t[8]=s("div",{class:"card"},[s("div",{class:"card-header"},[s("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Recent Activity ")]),s("div",{class:"card-body"},[s("p",{class:"text-sm text-gray-500"}," Recent activity tracking will be available once the audit logging system is implemented. ")])],-1))])]}),_:1})}}});export{cs as default};
